webpackJsonp([1],{"9VP3":function(t,e,n){t.exports=n.p+"static/img/weather-thundstorm.3861882.gif"},BjZL:function(t,e,n){t.exports=n.p+"static/img/weather-cloud.d2e410d.gif"},EKnc:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s,i,o=n("VU/8")({name:"App"},r,!1,function(t){n("Uhwa")},null,null).exports,c=n("/ocq"),u=n("Xxa5"),p=n.n(u),l=n("exGp"),h=n.n(l),d=n("Gu7T"),f=n.n(d),m=(s=h()(p.a.mark(function t(e,n){var a,r;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e,n),t.next=3,fetch("https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20weather.forecast%20where%20woeid%20in%20(SELECT%20woeid%20FROM%20geo.places%20WHERE%20text%3D%22("+e+", "+n+")%22)&format=json&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys");case 3:return a=t.sent,t.next=6,a.json();case 6:return r=t.sent,t.abrupt("return",r.query.results.channel);case 8:case"end":return t.stop()}},t,this)})),function(t,e){return s.apply(this,arguments)}),w=(i=h()(p.a.mark(function t(){var e,n,a,r;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://ip-api.com/json");case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,a=n.lat,r=n.lon,t.abrupt("return",{latitude:a,longitude:r});case 9:case"end":return t.stop()}},t,this)})),function(){return i.apply(this,arguments)}),v={name:"HelloWorld",data:function(){return{weatherData:null,weekday:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weatherStatus:{27:n("BjZL"),4:n("9VP3"),47:n("ZRXJ"),32:n("RpFU"),24:n("s4VR")}}},computed:{maxTemp:function(){var t=this.weatherForecast.map(function(t){return Number(t.high)});return Math.ceil(5*(Math.max.apply(Math,f()(t))-32)/9)+"℃"},minTemp:function(){var t=this.weatherForecast.map(function(t){return Number(t.low)});return Math.ceil(5*(Math.min.apply(Math,f()(t))-32)/9)+"℃"},country:function(){return this.weatherData.location.country},city:function(){return this.weatherData.location.city},currentCondition:function(){return this.weatherData.item.condition},currentTemp:function(){return this.currentCondition.temp},currentWeatherText:function(){return this.currentCondition.text},weatherForecast:function(){return this.weatherData.item.forecast.slice(1,6)}},filters:{c:function(t){return Math.ceil(5*(t-32)/9)+"℃"},dateFilter:function(t){return new Date(t).toLocaleDateString()}},mounted:function(){this.speakInit(),this.fetchWeatherData()},methods:{speakInit:function(){var t=new(window.SpeechRecognition||window.webkitSpeechRecognition);t.lang="zh-TW",t.interimResults=!1,t.addEventListener("result",this.handleGetMsg),t.addEventListener("end",function(){t.start()}),t.start()},handleGetMsg:function(t){var e=t.results.length-1,n=t.results[e][0].transcript;console.log(n)},fetchWeatherData:function(){var t=this;return h()(p.a.mark(function e(){var n,a,r,s;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return n=e.sent,a=n.latitude,r=n.longitude,e.next=7,m(a,r);case 7:s=e.sent,t.weatherData=s;case 9:case"end":return e.stop()}},e,t)}))()}}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"smart-mirror"}},[t.weatherData?n("div",{staticClass:"weather-wrap"},[n("div",{staticClass:"weather-position"},[n("p",{staticClass:"country",domProps:{textContent:t._s(t.country)}}),t._v(" "),n("p",{staticClass:"city",domProps:{textContent:t._s(t.city)}}),t._v(" "),n("p",{staticClass:"date"},[t._v("\n        "+t._s(t._f("dateFilter")(t.currentCondition.date))+"\n      ")])]),t._v(" "),n("div",{staticClass:"weather-image"},[n("img",{attrs:{src:t.weatherStatus[t.currentCondition.code],alt:""}})]),t._v(" "),n("div",{staticClass:"weather-content"},[n("div",{staticClass:"weather-content__temperature"},[t._v("\n        "+t._s(t._f("c")(t.currentCondition.temp))+"\n      ")]),t._v(" "),n("div",{staticClass:"weather-content__range"},[n("span",{staticClass:"low-temp",domProps:{textContent:t._s(t.minTemp)}}),t._v(" "),n("span",[t._v(" ~ ")]),t._v(" "),n("span",{staticClass:"height-temp",domProps:{textContent:t._s(t.maxTemp)}})])]),t._v(" "),n("ul",{staticClass:"feature-weather"},t._l(t.weatherForecast,function(e){return n("li",{key:e.date,staticClass:"weather"},[n("p",{staticClass:"day",domProps:{textContent:t._s(t.weekday[new Date(e.date).getDay()])}}),t._v(" "),n("img",{staticClass:"image",attrs:{src:t.weatherStatus[e.code],alt:""}}),t._v(" "),n("p",{staticClass:"high-temp"},[t._v("\n          "+t._s(t._f("c")(e.high))+"\n        ")]),t._v(" "),n("p",{staticClass:"low-temp"},[t._v("\n          "+t._s(t._f("c")(e.low))+"\n        ")])])}))]):t._e()])},staticRenderFns:[]};var g=n("VU/8")(v,_,!1,function(t){n("EKnc")},"data-v-b28b3a6a",null).exports;a.a.use(c.a);var x=new c.a({routes:[{path:"/",name:"HelloWorld",component:g}]});a.a.config.productionTip=!1,new a.a({el:"#app",router:x,components:{App:o},template:"<App/>"})},RpFU:function(t,e,n){t.exports=n.p+"static/img/weather-sunny.fc99d28.gif"},Uhwa:function(t,e){},ZRXJ:function(t,e,n){t.exports=n.p+"static/img/weather-afternoon-rain.f78bd55.gif"},s4VR:function(t,e,n){t.exports=n.p+"static/img/weather-gale.98a1c94.gif"}},["NHnr"]);
//# sourceMappingURL=app.3c6d64be39cca7abbde6.js.map